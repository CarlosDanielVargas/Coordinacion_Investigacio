<div class="container minute">
  <%= form_with(model: minute) do |f| %>
    <% if minute.errors.any? %>
      <div style="color: red">
        <h2><%= pluralize(minute.errors.count, "error") %> prohibited this minute from being saved:</h2>
        <ul>
          <% minute.errors.each do |error| %>
            <li><%= error.full_message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <div class="row pb-2">
      <%= f.label "Número", style: "display: block" %>
      <%= f.number_field :number, class: "form-control" %>
    </div>
    <div class="row pb-2">
      <%= f.label "Fecha", style: "display: block" %>
      <%= f.date_field :date, class: "form-control" %>
    </div>
    <div class="row pb-2">
      <%= f.label "Documento de acta", style: "display: block" %>
      <%= f.file_field :file, class: "form-control", direct_upload: true %>
    </div>
    <div>
      <div class="row pb-2">
        <h4>Artículos</h4>
        <div>
          <%= link_to_add_association f, :articles, class: "btn btn-success", data: { association_insertion_node: '.articles', association_insertion_method: :append} do %>
            <i class="bi bi-plus-circle-fill"></i> Agregar artículo
          <% end %>
        </div>
      </div>
      <div class="row pb-2">
        <div class="articles">
          <%= f.fields_for :articles do |article| %>
            <%= render "article_fields", f: article, minute: minute %>
          <% end %>
        </div>
      </div>
    </div>
    <div class="row pt-4">
      <div class="col text-center">
        <%= button_tag(:class => "btn btn-primary") do %>
          <i class="bi bi-check-lg"></i>
          Guardar
        <% end %>
      </div>
    </div>
  <% end %>
</div>
